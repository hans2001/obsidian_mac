2025-04-23 10:22

Link:https://leetcode.com/problems/maximum-value-of-an-ordered-triplet-ii/description/?envType=company&envId=bloomberg&favoriteSlug=bloomberg-thirty-days

Problem: 
You are given a **0-indexed** integer array `nums`.

Return _**the maximum value over all triplets of indices**_ `(i, j, k)` _such that_ `i < j < k`_._ If all such triplets have a negative value, return `0`.

The **value of a triplet of indices** `(i, j, k)` is equal to `(nums[i] - nums[j]) * nums[k]`.

Intuition:
build a prefix and  suffix max array, where the array record the maximum element so far, either from the left or right
then we compute the result in one pass, by fixing the middle element, we locate the element i with prefix_max array ( maximum element so far ) , and we locate element k with suffix_max array, so if we compute a larger (nums[i] - nums[j]) * nums[k] (we want nums[j] to be small as possible, and we want nums[i] and nums[k] to be as large as possible, in order to get the maximum result). we update the global result!

Solution:
```python
class Solution:
    def maximumTripletValue(self, nums: List[int]) -> int:
        n = len(nums)
        leftMax = [0] * n
        rightMax = [0] * n
        for i in range(1, n):
            leftMax[i] = max(leftMax[i - 1], nums[i - 1])
            rightMax[n - 1 - i] = max(rightMax[n - i], nums[n - i])
        res = 0
        for j in range(1, n - 1):
            res = max(res, (leftMax[j] - nums[j]) * rightMax[j])
        return res

```

optimized:
```python
class Solution:
    def maximumTripletValue(self, nums: List[int]) -> int:
        n = len(nums)
        res, imax, dmax = 0, 0, 0
        for k in range(n):
            res = max(res, dmax * nums[k])
            dmax = max(dmax, imax - nums[k])
            imax = max(imax, nums[k])
        return res
```
 We can use imax to maintain the maximum value of nums[i], and dmax to maintain the maximum value of nums[i]−nums[j]

Tags: #prefix_max #suffix_max

RL: 

Considerations:
